# ===========================================
# Docker Compose Environment Configuration
# ===========================================
# This file is the single source of truth for all
# environment variables used by docker-compose.
#
# SETUP:
#   1. Copy this file: cp .env.example .env
#   2. Update values for your environment
#   3. Run: docker-compose -f docker-compose.dev.yml up
#
# For production, ensure you:
#   - Use strong, unique JWT secrets (32+ chars)
#   - Use strong database passwords
#   - Set NEXT_PUBLIC_SITE_URL to your domain (e.g., https://example.com)
#   - Set NEXT_PUBLIC_API_URL to your API URL (e.g., https://api.example.com)
# ===========================================

# Project name (used as container prefix)
COMPOSE_PROJECT_NAME=perfumesstoreclean

# ===========================================
# Host Platform
# ===========================================
# Set to 'windows' on Windows hosts to handle CRLF line endings
# Set to 'linux' or 'darwin' on Linux/macOS (default: linux)
PLATFORM=linux

# ===========================================
# Ports
# ===========================================
CLIENT_PORT=3000
SERVER_PORT=4000
POSTGRES_PORT=5433

# ===========================================
# PostgreSQL Database
# ===========================================
# For production: use strong password!
# Example: Use 'openssl rand -base64 24' to generate a secure password
POSTGRES_USER=perfumes_admin
POSTGRES_PASSWORD=change_this_secure_password_in_production
POSTGRES_DB=perfumes_store

# ===========================================
# JWT Authentication
# ===========================================
# SECURITY: Both secrets must be at least 32 characters!
# For production: generate with: openssl rand -base64 32
#
# Example values (DO NOT USE IN PRODUCTION):
JWT_SECRET=dev_jwt_secret_replace_in_production_min_32_chars
JWT_REFRESH_SECRET=dev_jwt_refresh_secret_replace_in_production_32_chars

# ===========================================
# Admin Seed Password
# ===========================================
# Used when running: docker-compose exec server npx prisma db seed
# If empty, a random password will be generated and displayed
# For development, you can set this to a known password
ADMIN_SEED_PASSWORD=Admin123!

# ===========================================
# Client Configuration
# ===========================================
# NEXT_PUBLIC_SITE_URL: Used for SEO (canonical URLs, sitemap)
# NEXT_PUBLIC_API_URL: Public API endpoint for client-side requests
#
# PRODUCTION REQUIRED: Both URLs must be set for docker-compose.prod.yml
#   NEXT_PUBLIC_SITE_URL=https://yourdomain.com
#   NEXT_PUBLIC_API_URL=https://api.yourdomain.com (or https://yourdomain.com/api)
#
# Development values:
NEXT_PUBLIC_SITE_URL=http://localhost:3000
NEXT_PUBLIC_API_URL=http://localhost:4000
NEXT_PUBLIC_SITE_NAME=Perfumes Store

# ===========================================
# Image Security
# ===========================================
# Comma-separated list of allowed external image hosts (e.g., Cloudflare R2)
# Example: your-bucket.account-id.r2.cloudflarestorage.com,cdn.yoursite.com
# Leave empty if you're only using local uploads
ALLOWED_IMAGE_HOSTS=
NEXT_PUBLIC_ALLOWED_IMAGE_HOSTS=

# ===========================================
# Optional: Analytics (uncomment when ready)
# ===========================================
# NEXT_PUBLIC_GA_ID=G-XXXXXXXXXX
# NEXT_PUBLIC_GOOGLE_SITE_VERIFICATION=your-verification-code
