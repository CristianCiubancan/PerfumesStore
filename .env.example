# ===========================================
# Docker Compose Environment Configuration
# ===========================================
# This file is the single source of truth for all
# environment variables used by docker-compose.
#
# SETUP:
#   1. Copy this file: cp .env.example .env
#   2. Update values for your environment
#   3. Run: docker-compose -f docker-compose.dev.yml up
#
# For production, ensure you:
#   - Use strong, unique JWT secrets (32+ chars)
#   - Use strong database passwords
#   - Set NEXT_PUBLIC_SITE_URL to your domain (e.g., https://example.com)
#   - Set NEXT_PUBLIC_API_URL to your API URL (e.g., https://api.example.com)
# ===========================================

# Project name (used as container prefix)
COMPOSE_PROJECT_NAME=

# ===========================================
# Host Platform
# ===========================================
# Set to 'windows' on Windows hosts to handle CRLF line endings
# Set to 'linux' or 'darwin' on Linux/macOS (default: linux)
PLATFORM=

# ===========================================
# Ports
# ===========================================
CLIENT_PORT=
SERVER_PORT=
POSTGRES_PORT=

# ===========================================
# PostgreSQL Database
# ===========================================
# REQUIRED: Use strong credentials!
# Generate password with: openssl rand -base64 24
POSTGRES_USER=
POSTGRES_PASSWORD=
POSTGRES_DB=

# ===========================================
# JWT Authentication
# ===========================================
# REQUIRED: Both secrets must be at least 32 characters!
# Generate with: openssl rand -base64 32
JWT_SECRET=
JWT_REFRESH_SECRET=

# ===========================================
# Admin Seed Password
# ===========================================
# Used when running: docker-compose exec server npx prisma db seed
# If empty, a random password will be generated and displayed
# Must meet password requirements: 12+ chars, uppercase, lowercase, number
ADMIN_SEED_PASSWORD=

# ===========================================
# Client Configuration
# ===========================================
# NEXT_PUBLIC_SITE_URL: Used for SEO (canonical URLs, sitemap)
# NEXT_PUBLIC_API_URL: Public API endpoint for client-side requests
#
# Development example:
#   NEXT_PUBLIC_SITE_URL=http://localhost:3000
#   NEXT_PUBLIC_API_URL=http://localhost:4000
#
# Production example:
#   NEXT_PUBLIC_SITE_URL=https://yourdomain.com
#   NEXT_PUBLIC_API_URL=https://api.yourdomain.com
NEXT_PUBLIC_SITE_URL=
NEXT_PUBLIC_API_URL=
NEXT_PUBLIC_SITE_NAME=

# ===========================================
# Cross-Subdomain Cookie Configuration
# ===========================================
# Required when frontend and API are on different subdomains
# (e.g., www.example.com + api.example.com)
#
# Set to your root domain with leading dot: .example.com
# This allows cookies to be shared across subdomains.
# Leave empty for same-origin deployments.
#
# Example: COOKIE_DOMAIN=.yourdomain.com
COOKIE_DOMAIN=

# ===========================================
# Image Security
# ===========================================
# Comma-separated list of allowed external image hosts (e.g., Cloudflare R2)
# Example: your-bucket.account-id.r2.cloudflarestorage.com,cdn.yoursite.com
# Leave empty if you're only using local uploads
ALLOWED_IMAGE_HOSTS=
NEXT_PUBLIC_ALLOWED_IMAGE_HOSTS=

# ===========================================
# Stripe Payment Integration
# ===========================================
# Get keys from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=
# Webhook secret from: https://dashboard.stripe.com/webhooks
# For local dev, run: npm run stripe:webhook (auto-updates this value)
STRIPE_WEBHOOK_SECRET=

# ===========================================
# Email (Resend)
# ===========================================
# Get API key from: https://resend.com/api-keys
RESEND_API_KEY=
# The verified domain email to send from (e.g., noreply@yourdomain.com)
# Must verify domain at: https://resend.com/domains
RESEND_FROM_EMAIL=

# ===========================================
# Optional: Analytics
# ===========================================
# NEXT_PUBLIC_GA_ID=
# NEXT_PUBLIC_GOOGLE_SITE_VERIFICATION=
